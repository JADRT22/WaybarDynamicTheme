<<<<<<< HEAD
# WaybarDynamicTheme
Dynamic theme automation for Waybar based on current wallpaper, with intelligent preservation of custom layouts and styles in Hyprland.
=======
# Waybar Dynamic Theme & Layout Preservation

> [!IMPORTANT]
> **Disclaimer:** This project was built entirely with AI in about one hour for pure fun. It is NOT intended to be a serious or professional tool. Expect messy code, potential bugs, or "workaround" logic. I did this just for the "rice" (Linux customization) and to see what was possible in a single session!

This project automates wallpaper color extraction for Waybar while ensuring the user's **Layout** and **Style** choices are preserved.

## ðŸš€ How It Works
1. **Shortcut (SUPER + G):** Runs the `DynamicLayoutSwitcher.sh` script.
2. **Selection:** The user chooses a wallpaper via Rofi.
3. **Colors:** `wallust` extracts colors from the image and generates `~/.config/waybar/wallust/colors-waybar.css` based on a custom template.
4. **Application:** The `Refresh.sh` script is called to restart Waybar.
5. **Preservation:** `Refresh.sh` detects which layout (`config`) was active (via symlink) and restarts Waybar maintaining that layout and the current style.

## ðŸ“‚ Key Files

| File | Function |
| :--- | :--- |
| `DynamicLayoutSwitcher.sh` | Main wallpaper switcher and Wallust trigger. |
| `Refresh.sh` | Restarts Waybar preserving the current layout (`-c active_config`). |
| `waybar-colors.template` | Wallust template defining `@primary` and `@secondary` variables. |
| `$HOME/.config/waybar/wallust/colors-waybar.css` | Generated color file imported by Waybar themes. |
| `$HOME/.config/waybar/configs/*` | Waybar layouts forced to read the main `style.css`. |
| `$HOME/.config/waybar/style/*.css` | Waybar styles updated to import dynamic colors via absolute paths. |

## ðŸ› ï¸ Maintenance Notes
- **Don't force style:** The wallpaper script should never use `ln -sf` on `style.css`, to avoid overwriting the user's choice in the style menu.
- **Color Variables:** To change which Wallust colors are "Primary" or "Secondary", edit `waybar-colors.template`.
- **New Layouts:** When creating a new layout in `waybar/configs`, ensure it includes the line: `"style": "$HOME/.config/waybar/style.css",`.

---
*Documentation generated by Gemini CLI on Feb 19, 2026*
>>>>>>> e79f6e0 (Initial commit: AI-generated dynamic theme in 1 hour)
